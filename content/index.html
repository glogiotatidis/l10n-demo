<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <link rel="prefetch" type="application/l10n" href="strings/en.ini" />
  <link rel="prefetch" type="application/l10n" href="strings/fr.ini" />
  <link rel="prefetch" type="application/l10n" href="strings/el.ini" />

  <script type="text/javascript" src="libs/l10n.js"></script>
  <link href="style.css" type="text/css" rel="stylesheet">
  <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/fira.css">
</head>
<body>
  <h1 data-l10n-id="header">Hello Mozilla</h1>
  <p data-l10n-id="main-content">Hello Mozilla, this is English</p>
  <select id="language-dropdown">
    <option value="en">English</option>
    <option value="fr">French</option>
    <option value="el">Greek</option>
  </select>
  <script type="text/javascript" src="libs/zepto.min.js"></script>
  <script type="text/javascript">
   $(document).ready(function() {
       var supportedLocales = [
           'en', 'el', 'fr'
       ]
       if (supportedLocales.indexOf(document.webL10n.getLanguage()) === -1) {
           document.webL10n.setLanguage(supportedLocales[0]);
       }

       $('#language-dropdown').change(function() {
           document.webL10n.setLanguage(this.value);
       });
   });
   window.addEventListener('localized', function() {
       $('html').attr('lang', document.webL10n.getLanguage());
       $('html').attr('dir', document.webL10n.getDirection());
       $('#language-dropdown').val(document.webL10n.getLanguage());
   }, false);
  </script>
</body>
</html>
